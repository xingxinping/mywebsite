<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>回调通知 on Wahool对接接口</title>
    <link>http://localhost:1313/wahool/ours/v1.0/notify/</link>
    <description>Recent content in 回调通知 on Wahool对接接口</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 23 Dec 2020 14:45:49 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/wahool/ours/v1.0/notify/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>订单状态推送</title>
      <link>http://localhost:1313/wahool/ours/v1.0/notify/order_notify/</link>
      <pubDate>Wed, 23 Dec 2020 14:45:49 +0800</pubDate>
      <guid>http://localhost:1313/wahool/ours/v1.0/notify/order_notify/</guid>
      <description>说明 订单状态发生变化时推送&#xA;基础信息 路径 请求方式 说明 天才提供 POST 订单状态推送 请求参数 字段 说明 类型 是否必须 例子 isEnc 是否加密 Boolean Y false tamperStr 防篡改串EncryptUtil.MD5(明文ticketOrderLis的json串) String Y isCpr 数据是否压缩（压缩方式snappy） Boolean Y false ticketOrderList 机票订单信息列表List的json数据（先压缩后解密）isCpr为true时压缩,isCcp为false时不压缩, isEnc为true时，由授权秘钥DES算法加密 EncryptUtil.DESencode(明文ticketOrderLis的json串,授权秘钥) ,isEnc为false时，明文 String N trainOrderList 火车票订单列表 String N hotelOrderList 酒店订单列表 String N orderNum 订单总数量 Long N TicketOrder 机票订单 字段 说明 类型 是否必须 例子 ddbh 订单编号 String Y ddlx 订单类型01001 国内机票正常单 01002 国内机票退票单 01003 国内机票改签单 02001 国际机票正常单 02002 国际机票退票单 02003 国际机票改签单 String Y 01001 ddzt 订单状态 机票正常单 0,申请中 1,已订座 2,已调度 3,已出票状态 4,配送中 5,出票中/部分出票 6,假RR 7,客户取消 8,管理员取消 9,完成状态; 机票退票单 A待审核 0待确认 1已申请 3已调度 6已打单 4配送中 5已完成 7已取消; 机票改签单 A待审核,0待确认,1已申请,2已调度,3改签中,4已改签,5已打单,6配送中,7客户取消,8管理员取消,9已完成 String N 0 sqdh 出差申请单号 String N clsx 差旅事项 String N xmdh 项目单号 String N xmmc 项目名称 String N sfwb 是否违背 String N wbyy 违背原因 String N wbsx 违背事项 String N spr 审批人 String N spsj 审批通过时间 String N 2020-12-23 ddbz 订单备注 String N clbzzgjg 差旅标准最高价格 String N old_ddbh 退改原订单编号 String N hclx 航程类型 String N dp_datetime 预订时间 String N dp_clk_bh 预订人工号 String N dp_clk_bm 预订人部门 String N lxrxm 联系人姓名 String N lxrdh 联系人电话 String N lxryx 联系人邮箱 String N ddly 订单来源 String N gysmc 供应商名称 String N gysxx 供应商信息 String N fwsmc 服务商名称 String N fwsxx 服务商信息 String N tpyy 退票原因，订单类型为退票时传入 String N gqyy 改签原因，订单类型为改签是传入 String N gpcydh GP查验单号 String N jplx 机票类型 common:普通 ；gp:GP票 String N ticketPayInfo 订单支付信息 TicketPayInfo N zffs 支付方式 String N orderDistrInfo 订单配送信息 OrderDistrInfo N ticketPassengerList 乘机人信息 List N TicketPayInfo 字段 说明 类型 是否必须 例子 xsj 销售价 double N jsf 机场建设费 double N ry 燃油附加费 double N jpxj 机票小计 销售价(xsj)+(机建)jsf+(燃油)ry double N fwf 服务费 正常票服务费 double N bxje 保险费 double N tpf 退票或改签手续费 double N gqcj 改签差价 double N gqzfy 改期总费用 double N ywfssj 该笔费用业务产生时间 String N bzzdj 全价折扣后航司标准运价 double N xszkl 销售折扣率 double N fyje 费用总合计 注意：无论是正常票还是改签还是退票，最终发生费用的金额以fyje为主 double N psf 配送费 double N zf_datetime 费用支付时间 String N zf_zfkmmc 支付科目名称 String N OrderDistrInfo 字段 说明 类型 是否必须 例子 ps_fs 配送方式编号 22 统一配送 11 无需配送 21 市内配送 31 营业部自取 41 机场自取 32 驻场自取 51 邮寄 String N 22 ps_sf 配送省份 String N ps_sfmc 配送省份名称 String N ps_cs 配送城市 String N ps_csmc 配送城市名称 String N ps_qx 配送区县 String N ps_qxmc 配送区县名称 String N ps_xxdz 配送详细地址 String N ps_lxr 配送联系人 String N ps_lxdh 配送联系电话 String N ps_yzbm 配送邮政编码 String N TicketPassenger 字段 说明 类型 是否必须 例子 cjrxm 乘机人姓名 String N cjrgh 乘机人工号 String N bmbh 乘机人所在部门编号 String N ygzj 员工职级 String N bmmc 部门名称 String N cjrlx 乘机人类型 1成人 2儿童 3婴儿 String N zjlx 证件类型 String N zjhm 证件号码 String N cjrsj 乘机人手机 String N csrq 出生日期 String N cbzxbh 成本中心编号 String N cbzxmc 成本中心名称 String N ticketDetailInfoList 乘机人机票信息 List N TicketDetailInfo 字段 说明 类型 是否必须 例子 szm 三字码 String N ph 票号 String N kpzt 客票状态 String N old_szm 改签原三字码 String N old_ph 改签原票号 注意：原票号指的是正常单票号，而上次改签的票号有可能是一次改签针对的二次改签所说的票号 String N lastgq_ph 上次改签的票号 String N gbzdj 最低价 String N wbyy 违背原因 String N ticketPayInfo 机票支付信息 对应当前机票的支付信息 TicketPayInfo N ticketHcList 机票航程信息 List N TicketHc 字段 说明 类型 是否必须 例子 hbh 航班号 String N o_hbh 改签前的航班号 String N qfsj 起飞时间 格式：yyyy-MM-dd HH:mm:ss String N ddsj 到达时间 格式：yyyy-MM-dd HH:mm:s String N qfcs 起飞城市 String N ddcs 到达城市 String N cfjc 出发机场 String N cfjcmc 出发机场名称 String N ddjc 到达机场 String N ddjcmc 到达机场名称 String N cfhzl 出发航站楼 String N ddhzl 到达航站楼 String N lc 里程数 double N hkgs 航空公司 String N cwlx 舱位类型 String N cw 舱位 String N sxh 航程顺序号 int N TrainOrder 火车票订单 字段 说明 类型 是否必须 例子 sqdh 申请单号 String N ddbh 订单编号 String N ddlx 订单类型 String N ddzt 订单状态 火车票正常单 1已申请、2已审核、3已调度、4已出票、5配送中、7客户取消，8管理员消，9已完成，4A出票中，7A取消中,2A等待订座；改签单状态1.</description>
    </item>
    <item>
      <title>资金解冻</title>
      <link>http://localhost:1313/wahool/ours/v1.0/notify/unfreezing_funds/</link>
      <pubDate>Wed, 23 Dec 2020 13:52:14 +0800</pubDate>
      <guid>http://localhost:1313/wahool/ours/v1.0/notify/unfreezing_funds/</guid>
      <description> 说明 A:首次下单 调用【资金冻结】接口 ，ordertype传[Y]，如果status=0且success=true 则出票，否则不出票 如出票失败，调用【资金解冻】接口&#xA;B:改签退票 调用【资金冻结】接口，ordertype传[C]或[R]，如果status=0 则改签退票操作正常进行。如果接口未调通，30 分钟内重新调用&#xA;C:抢票 调用【资金冻结】接口，首次预扣费时ordertype传[Y]，抢票成功，真实出票 调【资金冻结】接口，ordertype传[C]&#xA;基础信息 路径 请求方式 说明 天财提供 POST 资金解冻 请求参数 字段 说明 类型 是否必须 例子 applyno 浩天单点登录带过去的申请单号 String Y orderno 订单号（需要传原订单号） String Y timestamp 时间戳 Long Y 返回数据 字段 说明 类型 是否必须 例子 status 0 接口请求处理成功 int Y 0 success true：成功； false:失败 boolean Y true message 错误提示信息 String N Example 请求 { &amp;quot;applyno&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;orderno&amp;quot;:&amp;quot;&amp;quot;, &amp;quot;timestamp&amp;quot;:123 } 返回 { &amp;quot;status&amp;quot;: &amp;quot;0&amp;quot;, &amp;quot;success&amp;quot;:true, &amp;quot;message&amp;quot;:&amp;quot;&amp;quot; } </description>
    </item>
    <item>
      <title>资金冻结</title>
      <link>http://localhost:1313/wahool/ours/v1.0/notify/freezing_funds/</link>
      <pubDate>Wed, 23 Dec 2020 13:49:41 +0800</pubDate>
      <guid>http://localhost:1313/wahool/ours/v1.0/notify/freezing_funds/</guid>
      <description> 说明 A:首次下单 调用【资金冻结】接口 ，ordertype传[Y]，如果status=0且success=true 则出票，否则不出票 如出票失败，调用【资金解冻】接口&#xA;B:改签退票 调用【资金冻结】接口，ordertype传[C]或[R]，如果status=0 则改签退票操作正常进行。如果接口未调通，30 分钟内重新调用&#xA;C:抢票 调用【资金冻结】接口，首次预扣费时ordertype传[Y]，抢票成功，真实出票 调【资金冻结】接口，ordertype传[C]&#xA;基础信息 路径 请求方式 说明 天财提供 POST 资金冻结 请求参数 字段 说明 类型 是否必须 例子 oaId 浩天单点登录带过去的申请单号 String Y false projectCode 项目code String N orderId 订单号（需要传原订单号） String Y price 实际发生金额（如：原单金额100，改签单20，price = 120；原单金额100，实际应退金额70，price=30）单位：分 Long Y timestamp 时间戳 Long Y ordertype 下单类型 Y-首次下单 C-改签 R-退票 String Y Y type 订单类型 A-国内机票，T-火车票，H-国内酒店 F-国际机票 IH-国际酒店 C-用车 Q-其他 String Y extend 扩展字段 CreditCallbackExtendDto N CreditCallbackExtendDto 字段 说明 类型 是否必须 例子 startCityName 起飞城市 String N endCityName 降落城市 String N airLineCompany 航空公司 String N flightNos 航班号 String N passengerNames 所有乘客姓名,多个逗号隔开 String N hotelName 酒店名称 String N cityName 城市名称 String N roomNumber 房间数量 int N gmtOccupancyTime 入住时间，yyyy-MM-ddHH:mm:ss String N gmtLeaveTime 离店时间，yyyy-MM-ddHH:mm:ss String N gmtCreate 创建时间，yyyy-MM-ddHH:mm:ss String N bookPersonId 预订人id String Y passengerName 乘客姓名 String N fromCity 出发城市 String N toCity 到达城市 String N fromStation 发车站 String N toStation 到达站 String N planBeginDate 发车时间，yyyy-MM-ddHH:mm:ss String N planEndDate 到达时间，yyyy-MM-ddHH:mm:ss String N 返回数据 字段 说明 类型 是否必须 例子 status 0 接口请求处理成功 int Y 0 success true：成功； false:失败 boolean Y true message 错误提示信息 String N Example 请求 { &amp;quot;isEnc&amp;quot;: true } 返回 { &amp;quot;status&amp;quot;: &amp;quot;0&amp;quot;, &amp;quot;success&amp;quot;:true, &amp;quot;message&amp;quot;:&amp;quot;&amp;quot; } </description>
    </item>
  </channel>
</rss>
